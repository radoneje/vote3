extends ../layout
block head
block body


    include eventMenu
    script.
            document.querySelector(".eventMenuItem[menuid='3']").classList.add("active")
    .mainTower#app
        .eventBody.mt


            .qItemBtnGroup.flex.left.mb
                .qItemBtn.active( v-on:click="uploadFile()") Загрузить файл
                .qItemBtn( v-on:click="approveAllQ( 'isMod', true)") Показать все
                .qItemBtn.red( v-on:click="approveAllQ( 'isMod', false)") Убрать все
                .qItemBtn.red(v-on:click="if(confirm('Удалить все файлы?')) approveAllQ( 'isDeleted', true)") Удалить все
                .qTotal Всего файлов: {{files.length}}
            .qWr
                .qItem.mb(v-if="files.length==0")
                    .qItemText.mb Пока файлы не добавлены
                    .qItemBtn.active( v-on:click="selectFile()") Загрузить файл

                .qItem.mb(v-for="item in files")
                    .qItemHead {{item.originalname}}
                    input.mb(v-model="item.title")
                    .qItemBtnGroup.flex.left
                        .qItemBtn(v-bind:class="{active:item.isMod}" v-on:click="toogleQ( 'isMod', item)")
                            span(v-if="item.isMod") Принят
                            span(v-else) Принять
                        .qItemBtn(v-bind:class="{active:item.isSpk}" v-on:click="toogleQ( 'isSpk', item)")
                            span(v-if="!item.isSpk") Спикеру
                            span(v-else) У Спикера
                        .qItemBtn(v-bind:class="{active:item.isScreen}" v-on:click="toogleQ( 'isScreen', item)")
                            span(v-if="!item.isScreen") На экран
                            span(v-else) На экране
                        .qItemBtn.red(v-on:click="if(confirm('Удалить вопрос?')) toogleQ( 'isDeleted', item)") Удалить

        .uploading(v-if="uploading.length>0")
            .uploadingTitle.mb загрузка файлов
            .uploadingWr
                .uploadingItem.mb(v-for="item in uploading")
                    .uploadingItemTitle
                        span  {{item.name}} : {{item.percent}}


    script let event=!{JSON.stringify(event)}
    script(src="/scripts/eventScript.js")
    script(src="/scripts/vue.min.js")
    script(src="/scripts/eventQScript.js")
